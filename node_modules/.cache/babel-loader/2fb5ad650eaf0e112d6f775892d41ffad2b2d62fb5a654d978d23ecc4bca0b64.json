{"ast":null,"code":"var _jsxFileName = \"/Users/ziansari/Code/drs-frontend-app/src/pages/JobSummary.js\",\n  _s = $RefreshSig$();\nimport { useContext, useEffect, useState } from 'react';\nimport { AppContext } from '../App';\nimport { CBCMJobStatus } from '../stubs/CBCMJobStatus';\nimport { Link } from 'react-router-dom';\nimport { useQuery } from '@apollo/client';\nimport { LOAD_JOBSUMMARY } from '../GraphQL/Queries';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction JobSummary() {\n  _s();\n  const {\n    systemName,\n    setSelectedJob\n  } = useContext(AppContext);\n  const [mydata, setMydata] = CBCMJobStatus.map(element => element.data.jobsPerStatus);\n  const [status, setStatus] = useState(1);\n  const JobsummaryError = [{\n    \"jobName\": \"No Data Found\",\n    \"jobStatus\": 0,\n    \"srcSystem\": \"NA\",\n    \"targetSystem\": \"NA\",\n    \"__typename\": \"JobSummaryBySystemType\"\n  }];\n  const [jobSummaryResponse, setJobSummaryResponse] = useState([]);\n  const {\n    error,\n    loading,\n    data\n  } = useQuery(LOAD_JOBSUMMARY, {\n    variables: {\n      systemName,\n      status\n    }\n  });\n  useEffect(() => {\n    if (data) {\n      if (data.jobSummaryBySystem.length > 0) {\n        setJobSummaryResponse(data.jobSummaryBySystem);\n        {\n          console.log(data.jobSummaryBySystem.length);\n        }\n      } else {\n        setJobSummaryResponse(JobsummaryError);\n      }\n    }\n  }, [data]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"page-contain\",\n    children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n      children: [\"JobSummary for - \", systemName]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 9\n    }, this), jobSummaryResponse.map(item => /*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(Link, {\n        to: \"/jobdetails\",\n        className: \"data-card\",\n        onClick: setSelectedJob(item.jobName),\n        children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n          children: item.jobName ? item.jobName : \"NA\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 48,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"h3\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 49,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          children: [\"Source : \", /*#__PURE__*/_jsxDEV(\"h4\", {\n            children: [item.srcSystem ? item.srcSystem : \"NA\", \" \"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 50,\n            columnNumber: 40\n          }, this), \" \"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 50,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          children: [\" Target : \", /*#__PURE__*/_jsxDEV(\"h4\", {\n            children: [item.targetSystem ? item.targetSystem : \"NA\", \" \"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 51,\n            columnNumber: 41\n          }, this), \" \"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 51,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          children: [\"Status: \", /*#__PURE__*/_jsxDEV(\"h4\", {\n            children: [item.jobStatus ? item.jobStatus : \"NA\", \" \"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 52,\n            columnNumber: 39\n          }, this), \" \"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 52,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          class: \"link-text\",\n          children: \"View Details\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 54,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 21\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 17\n    }, this))]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 42,\n    columnNumber: 9\n  }, this);\n}\n_s(JobSummary, \"7ayjNvgbXXqBaPTDQFDJGnwFBZM=\", false, function () {\n  return [useQuery];\n});\n_c = JobSummary;\nexport default JobSummary;\nvar _c;\n$RefreshReg$(_c, \"JobSummary\");","map":{"version":3,"names":["useContext","useEffect","useState","AppContext","CBCMJobStatus","Link","useQuery","LOAD_JOBSUMMARY","JobSummary","systemName","setSelectedJob","mydata","setMydata","map","element","data","jobsPerStatus","status","setStatus","JobsummaryError","jobSummaryResponse","setJobSummaryResponse","error","loading","variables","jobSummaryBySystem","length","console","log","item","jobName","srcSystem","targetSystem","jobStatus"],"sources":["/Users/ziansari/Code/drs-frontend-app/src/pages/JobSummary.js"],"sourcesContent":["import { useContext, useEffect, useState } from 'react'\nimport { AppContext } from '../App';\nimport { CBCMJobStatus } from '../stubs/CBCMJobStatus'\nimport { Link } from 'react-router-dom';\nimport { useQuery } from '@apollo/client';\nimport { LOAD_JOBSUMMARY } from '../GraphQL/Queries';\n\n\n\nfunction JobSummary() {\n    const { systemName,setSelectedJob } = useContext(AppContext);\n    const [mydata, setMydata] = CBCMJobStatus.map((element) => element.data.jobsPerStatus);\n    const [status,setStatus] = useState(1);\n    const JobsummaryError= [{\"jobName\":\"No Data Found\",\"jobStatus\":0,\"srcSystem\":\"NA\",\"targetSystem\":\"NA\",\"__typename\":\"JobSummaryBySystemType\"}];\n\n\n    const [jobSummaryResponse, setJobSummaryResponse] = useState([]);\n\n    const { error, loading, data } = useQuery(LOAD_JOBSUMMARY, { variables: { systemName , status } });\n\n    useEffect(() => {\n        if (data ) {\n            if (data.jobSummaryBySystem.length > 0) {\n            setJobSummaryResponse(data.jobSummaryBySystem);\n            {console.log(data.jobSummaryBySystem.length)}\n        }\n        else {\n            setJobSummaryResponse(JobsummaryError);\n        }\n\n        }\n        \n        \n\n    }, [data])\n\n\n    return (\n\n        \n        \n        <div className=\"page-contain\">\n        <h3>JobSummary for - {systemName}</h3>\n            {jobSummaryResponse.map((item) =>\n                <div >\n                    <Link to='/jobdetails' className='data-card' onClick={setSelectedJob(item.jobName)}>\n                        \n                        <h4>{item.jobName ? item.jobName : \"NA\"}</h4>\n                        <h3></h3>\n                        <span>Source : <h4>{item.srcSystem ? item.srcSystem : \"NA\"} </h4> </span>\n                        <span> Target : <h4>{item.targetSystem ? item.targetSystem : \"NA\"} </h4> </span>\n                        <span>Status: <h4>{item.jobStatus ? item.jobStatus : \"NA\"} </h4> </span>\n\n                        <span class=\"link-text\">View Details</span>\n                    </Link>\n                </div>\n            )}\n        </div>\n   \n\n\n    )\n}\n\nexport default JobSummary;"],"mappings":";;AAAA,SAASA,UAAU,EAAEC,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AACvD,SAASC,UAAU,QAAQ,QAAQ;AACnC,SAASC,aAAa,QAAQ,wBAAwB;AACtD,SAASC,IAAI,QAAQ,kBAAkB;AACvC,SAASC,QAAQ,QAAQ,gBAAgB;AACzC,SAASC,eAAe,QAAQ,oBAAoB;AAAC;AAIrD,SAASC,UAAU,GAAG;EAAA;EAClB,MAAM;IAAEC,UAAU;IAACC;EAAe,CAAC,GAAGV,UAAU,CAACG,UAAU,CAAC;EAC5D,MAAM,CAACQ,MAAM,EAAEC,SAAS,CAAC,GAAGR,aAAa,CAACS,GAAG,CAAEC,OAAO,IAAKA,OAAO,CAACC,IAAI,CAACC,aAAa,CAAC;EACtF,MAAM,CAACC,MAAM,EAACC,SAAS,CAAC,GAAGhB,QAAQ,CAAC,CAAC,CAAC;EACtC,MAAMiB,eAAe,GAAE,CAAC;IAAC,SAAS,EAAC,eAAe;IAAC,WAAW,EAAC,CAAC;IAAC,WAAW,EAAC,IAAI;IAAC,cAAc,EAAC,IAAI;IAAC,YAAY,EAAC;EAAwB,CAAC,CAAC;EAG7I,MAAM,CAACC,kBAAkB,EAAEC,qBAAqB,CAAC,GAAGnB,QAAQ,CAAC,EAAE,CAAC;EAEhE,MAAM;IAAEoB,KAAK;IAAEC,OAAO;IAAER;EAAK,CAAC,GAAGT,QAAQ,CAACC,eAAe,EAAE;IAAEiB,SAAS,EAAE;MAAEf,UAAU;MAAGQ;IAAO;EAAE,CAAC,CAAC;EAElGhB,SAAS,CAAC,MAAM;IACZ,IAAIc,IAAI,EAAG;MACP,IAAIA,IAAI,CAACU,kBAAkB,CAACC,MAAM,GAAG,CAAC,EAAE;QACxCL,qBAAqB,CAACN,IAAI,CAACU,kBAAkB,CAAC;QAC9C;UAACE,OAAO,CAACC,GAAG,CAACb,IAAI,CAACU,kBAAkB,CAACC,MAAM,CAAC;QAAA;MAChD,CAAC,MACI;QACDL,qBAAqB,CAACF,eAAe,CAAC;MAC1C;IAEA;EAIJ,CAAC,EAAE,CAACJ,IAAI,CAAC,CAAC;EAGV,oBAII;IAAK,SAAS,EAAC,cAAc;IAAA,wBAC7B;MAAA,gCAAsBN,UAAU;IAAA;MAAA;MAAA;MAAA;IAAA,QAAM,EACjCW,kBAAkB,CAACP,GAAG,CAAEgB,IAAI,iBACzB;MAAA,uBACI,QAAC,IAAI;QAAC,EAAE,EAAC,aAAa;QAAC,SAAS,EAAC,WAAW;QAAC,OAAO,EAAEnB,cAAc,CAACmB,IAAI,CAACC,OAAO,CAAE;QAAA,wBAE/E;UAAA,UAAKD,IAAI,CAACC,OAAO,GAAGD,IAAI,CAACC,OAAO,GAAG;QAAI;UAAA;UAAA;UAAA;QAAA,QAAM,eAC7C;UAAA;UAAA;UAAA;QAAA,QAAS,eACT;UAAA,qCAAe;YAAA,WAAKD,IAAI,CAACE,SAAS,GAAGF,IAAI,CAACE,SAAS,GAAG,IAAI;UAAA;YAAA;YAAA;YAAA;UAAA,QAAO;QAAA;UAAA;UAAA;UAAA;QAAA,QAAQ,eACzE;UAAA,sCAAgB;YAAA,WAAKF,IAAI,CAACG,YAAY,GAAGH,IAAI,CAACG,YAAY,GAAG,IAAI;UAAA;YAAA;YAAA;YAAA;UAAA,QAAO;QAAA;UAAA;UAAA;UAAA;QAAA,QAAQ,eAChF;UAAA,oCAAc;YAAA,WAAKH,IAAI,CAACI,SAAS,GAAGJ,IAAI,CAACI,SAAS,GAAG,IAAI;UAAA;YAAA;YAAA;YAAA;UAAA,QAAO;QAAA;UAAA;UAAA;UAAA;QAAA,QAAQ,eAExE;UAAM,KAAK,EAAC,WAAW;UAAA;QAAA;UAAA;UAAA;UAAA;QAAA,QAAoB;MAAA;QAAA;QAAA;QAAA;MAAA;IACxC;MAAA;MAAA;MAAA;IAAA,QACL,CACT;EAAA;IAAA;IAAA;IAAA;EAAA,QACC;AAKd;AAAC,GArDQzB,UAAU;EAAA,QASkBF,QAAQ;AAAA;AAAA,KATpCE,UAAU;AAuDnB,eAAeA,UAAU;AAAC;AAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}